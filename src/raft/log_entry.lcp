#>cpp
#pragma once

#include "database/single_node_ha/serialization.hpp"
#include "durability/single_node_ha/state_delta.hpp"
cpp<#

(lcp:namespace raft)

(lcp:define-struct log-entry ()
  ((term :uint64_t)
   (deltas "std::vector<database::StateDelta>"))
   (:public #>cpp
   LogEntry() = default;
   LogEntry(uint64_t _term, std::vector<database::StateDelta> _deltas): term(_term), deltas(_deltas) {}
   cpp<#)
  (:serialize (:slk)))

(lcp:pop-namespace) ;; raft
